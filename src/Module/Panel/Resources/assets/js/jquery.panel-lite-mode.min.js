(()=>{"use strict";const e=jQuery;class t{constructor(){this.global=zc.getModuleData("panel")}scrollbarTop(){e(".zc-panel .zc-scrollbar").scrollTop(0)}calcHeight(){this.getCache("wp-body-height")!==e(window).height()&&this.addCache("wp-body-height",e(window).height())}eraseMobileMenu(){this.isDesktopMode()?!0===this.service("menu/isSubmenuItem")&&(e(".zc-panel-menu").addClass("zc-panel-menu_submenu-active"),e(".zc-panel-content").addClass("zc-panel-content_submenu-active")):(e(".zc-panel-menu").removeClass("zc-panel-menu_submenu-active"),e(".zc-panel-content").removeClass("zc-panel-content_submenu-active")),e(".zc-panel-content").removeClass("zc-panel-content_mobile-menu-visible"),e(".zc-panel-header__controller-button_type_mobile-menu").removeClass("zc-panel-header__controller-button_type_mobile-menu_active"),this.service("close-block").hideDefinitely()}isDesktopMode(){return e(".zc-panel").width()>=this.getConfig("min-size/mode2")}errorCheck(t,n){e(".zc-popup").hasClass("zc-panel-error-confirm")||(e(".zc-popup").length&&e(".zc-popup").remove(),console.error(t),zc.confirm({title:`Error - ${n.statusText} : ${n.status}`,subject:`${t} Page will be reloaded, ok?`,class:"zc-panel-error-confirm",ok:()=>{location.reload()}}))}getVar(e,t){const n=zc.deepFindAndSetting(this.global.vars,e);return void 0!==n?n:t}addVar(e,t){zc.deepFindAndSetting(this.global.vars,e,t)}addCache(e,t){zc.deepFindAndSetting(this.global.cache,e,t)}getCache(e,t){const n=zc.deepFindAndSetting(this.global.cache,e);return void 0!==n?n:t}remCache(e){zc.deepFindAndSetting(this.global.cache,e,!1,!0)}addConfig(e,t){zc.deepFindAndSetting(this.global.config,e,t)}getConfig(e,t){const n=zc.deepFindAndSetting(this.global.config,e);return void 0!==n?n:t}service(t,n){if(void 0!==t&&"string"==typeof t){if(!e.isFunction(n)&&"object"!=typeof n){const e=this.getCache(`services/${t}`,!1);if(void 0!==e)return e;throw new Error(`Next service not exist : ${t}`)}this.addCache(`services/${t}`,n)}}on(t,n,i,c=!1){e(".zc-panel").on(t,n,(t=>{!0===c&&t.preventDefault(),i.call(this,e(t.currentTarget),t)}))}click(e,t,n=!0){this.on("click",e,t,n)}}const n=jQuery;class i extends t{constructor(){super(),new ResizeObserver((e=>{void 0!==e[0]&&this.addModeSize(e[0].contentRect.width)})).observe(n(".zc-panel").get(0))}addModeSize(e){let t="mode-1-";t=this.getConfig("min-size/mode1")>=e?"mode-1-":this.getConfig("min-size/mode2")>=e?"mode-2-":"mode-3-",n(".zc-panel").attr("data-width",t+e),n(window).trigger("zc/panel/size-changed")}}const c=jQuery;class o extends t{constructor(){super(),this.timer1=!1,this.timer2=!1,this.type="error",this.title="Error",this.content="General error ( AJAX / LOGIN / PHP Error )",this.duration=3e3,this.callback=()=>{}}add(e,t,n,i,o){e=e||this.type,t=t||this.title,n=n||this.content,i=i||this.duration,o=o||this.callback,clearTimeout(this.timer1),clearTimeout(this.timer2);const s=zc.tpl(' <div class="zc-panel-direct-notification zc-panel-direct-notification_type_{{type}}"> <div class="zc-panel-direct-notification__icon-container"> <i class="zc-panel-direct-notification__icon"></i> </div> <div class="zc-panel-direct-notification__content"> <span class="zc-panel-direct-notification__title">{{title}}</span> <p class="zc-panel-direct-notification__text">{{content}}</p> </div> <div class="zc-panel-direct-notification__close-controller"> <i class="zc-panel-direct-notification__close-icon zc-icon-clear"></i> </div> </div>',{type:e,title:t,content:n});c(".zc-panel .zc-panel-direct-notification").remove(),c(".zc-panel .zc-panel-controls").prepend(s),this.click(".zc-panel-direct-notification__close-controller",(()=>{clearTimeout(this.timer1),clearTimeout(this.timer2),c(".zc-panel .zc-panel-direct-notification").addClass("zc-panel-direct-notification_close"),this.timer2=setTimeout((()=>{c(".zc-panel .zc-panel-direct-notification").remove()}),300),o.call()})),this.timer1=setTimeout((()=>{c(".zc-panel .zc-panel-direct-notification").addClass("zc-panel-direct-notification_close"),this.timer2=setTimeout((()=>{c(".zc-panel .zc-panel-direct-notification").remove()}),300),o.call()}),i)}}const s=jQuery;class a extends t{constructor(){super(),this.dn=new o,this.tpl=' <div class="zc-panel-popup-notification zc-panel-popup-notification_type_{{type}}"> <div class="zc-panel-popup-notification__icon-container"> <i class="zc-panel-popup-notification__icon"></i> </div> <div class="zc-panel-popup-notification__content-container"> <div class="zc-panel-popup-notification__content"> <span class="zc-panel-popup-notification__title">{{title}}</span> <p class="zc-panel-popup-notification__text">{{content}}</p> </div> <div class="zc-panel-popup-notification__close-controller"> <button class="zc-panel-popup-notification__close-button" type="button">{{var_exit}}</button> </div> </div> </div>',this.save(),this.reset()}showLoading(){s(".zc-panel-save-starter-button").hide(),s(".zc-panel-loading-starter-button").css("display","flex"),s(".zc-panel-reset-starter-button").prop("disabled",!0).addClass("zc-panel-header__controller-button_disabled")}hideLoading(){s(".zc-panel-save-starter-button").css("display","flex"),s(".zc-panel-loading-starter-button").hide(),s(".zc-panel-reset-starter-button").prop("disabled",!1).removeClass("zc-panel-header__controller-button_disabled")}save(){this.click(".zc-panel-save-starter-button",(e=>{s(window).trigger("zc/panel/save/start");const t=()=>{const e={};return s(".zc-panel .zc-panel-controls [data-option]").each(((t,n)=>{let i=s(n).attr("name");if("i"==s(n).data("i"))return;if(void 0===i)return;i=i.replace(/\[\]/g,"");const c=s(n).val();s(n).is(":radio")||s(n).is(":checkbox")?s(n).is(":checked")&&(e[i]=c):e[i]=s(n).val()})),e};this.showLoading(),zc.ajax({data:{action:`zc/module/panel/save_${this.getVar("slug")}`,options:zc.parse(t(),!0),_ajax_nonce:this.getVar("nonce")},error:(e,t)=>{s(window).trigger("zc/panel/save/error"),this.errorCheck("Panel : Save options",e)},success:e=>{s(window).trigger("zc/panel/save/success-start");const t=void 0===e.reload?void 0:()=>{location.reload()};this.dn.add(e.type,e.title,e.content,3e3,t),this.hideLoading(),"success"===e.type&&(this.addCache("changed",!1),s(window).trigger("zc/panel/save/success-response")),s(window).trigger("zc/panel/save/success-end")}}),s(window).trigger("zc/panel/save/end")}))}reset(){this.click(".zc-panel-reset-starter-button",(()=>{s(window).trigger("zc/panel/reset/start"),zc.confirm({title:this.getVar("reset-popup-title"),subject:this.getVar("reset-popup-subject"),titleOK:this.getVar("reset-popup-ok"),titleCancel:this.getVar("reset-popup-cancel"),ok:e=>{zc.ajax({data:{action:`zc/module/panel/reset_${this.getVar("slug")}`,_ajax_nonce:this.getVar("nonce")},error:(e,t)=>{s(window).trigger("zc/panel/reset/error"),this.errorCheck("Panel : Reset options",e)},before:()=>{e.hideContent(),s(window).trigger("zc/panel/reset/before")},success:t=>{s(window).trigger("zc/panel/reset/success-start"),"success"===t.type?(e.remContent(),e.appendContent(zc.tpl(this.tpl,{type:t.type,title:t.title,content:t.content})),e.showContent(),setTimeout((()=>{location.reload()}),2e3),this.addCache("changed",!1),s(window).trigger("zc/panel/reset/success-success")):"info"===t.type?(e.remContent(),e.appendContent(zc.tpl(this.tpl,{type:t.type,title:t.title,content:t.content,var_exit:this.getVar("exit")})),e.showContent(),s(window).trigger("zc/panel/reset/success-info")):(e.remContent(),e.appendContent(zc.tpl(this.tpl,{type:"error",title:"Error",content:"AJAX / LOGIN / PHP Error",var_exit:this.getVar("exit")})),e.showContent(),s(window).trigger("zc/panel/reset/success-error")),s(".zc-popup").on("click",".zc-panel-popup-notification__close-button",(t=>{t.preventDefault(),e.close()})),s(window).trigger("zc/panel/reset/success-end")}})}}),s(window).trigger("zc/panel/reset/end")}))}}const l=jQuery;class r extends t{constructor(){super(),this.starterButton(),this.closeBlock()}starterButton(){this.click(".zc-panel-quick-links-starter-button",(e=>{const t=parseInt(l(".zc-panel-header__controllers_right").width()),n=parseInt(e.outerWidth()),i=t-parseInt(e.position().left)-n+parseInt(l(".zc-panel-header").css("padding-right"));l(".zc-panel-quick-links").css("right",i),e.hasClass("zc-panel-quick-links-starter-button_active")?(e.removeClass("zc-panel-quick-links-starter-button_active"),l(".zc-panel-quick-links").removeClass("zc-panel-quick-links_active"),this.service("close-block").hide()):(e.addClass("zc-panel-quick-links-starter-button_active"),l(".zc-panel-quick-links").addClass("zc-panel-quick-links_active"),this.service("close-block").show())}))}closeBlock(){l(window).on("zc/close-block.zc-panel",(()=>{l(".zc-panel-quick-links-starter-button").hasClass("zc-panel-quick-links-starter-button_active")&&(l(".zc-panel-quick-links-starter-button").removeClass("zc-panel-quick-links-starter-button_active"),l(".zc-panel-quick-links").removeClass("zc-panel-quick-links_active"),this.service("close-block").hide())}))}}zc.module.panel.addMode(((e,t)=>{setTimeout((()=>{t.closeBlock(),t.controlInit(),t.controlHelp(),t.scrollbar(),t.noMetaScaleIfMobile(),t.condition(),t.ifChanged(),t.tooltip(),new i;const n=new a;new r,t.addCache("option-handler",n);const c=e(".zc-panel .zc-panel-controls__section");t.addCache("menu/current-section",c),e(window).trigger("zc/panel/menu/item-change-ICP",[c]),e(".zc-panel-template__panel-loading").hide(),e(".zc-panel").css("visibility","visible"),e(window).trigger("zc/panel/show-content")}),100),t.disableSaveButton=()=>{e(".zc-panel-save-starter-button").prop("disabled",!0).addClass("zc-panel-header__controller-button_disabled")},t.enableSaveButton=()=>{e(".zc-panel-save-starter-button").prop("disabled",!1).removeClass("zc-panel-header__controller-button_disabled")},t.disableResetButton=()=>{e(".zc-panel-reset-starter-button").prop("disabled",!0).addClass("zc-panel-header__controller-button_disabled")},t.enableResetButton=()=>{e(".zc-panel-reset-starter-button").prop("disabled",!1).removeClass("zc-panel-header__controller-button_disabled")}}))})();