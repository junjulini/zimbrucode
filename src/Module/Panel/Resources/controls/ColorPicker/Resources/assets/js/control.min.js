(()=>{"use strict";zc.module.panel.addControl(((o,e)=>{const t=e=>{const t=e.data("settings")||{},n={el:e.get(0),theme:"monolith",useAsButton:!0,default:e.val()||"#FFFFFF",container:".zc-panel",components:{preview:!1,opacity:!0,hue:!0,interaction:{hex:!0,rgba:!0,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!1}}},r=Pickr.create(o.extend({},n,t)),c={prepColor:o=>{const e=r.getColorRepresentation();let t="";return"HEXA"==e?t=o.toHEXA().toString():"RGBA"==e&&(t=o.toRGBA().toString(0)),t},preInit:(e,t)=>{const n=o(e).val();n?n!==t&&r.setColor(n):c.changeColor(e,"#FFFFFF")},changeColor:(e,t)=>{o(e).parent().find(".zc-panel-control-colorpicker__live-color").css("background",t),o(e).val(t).change()}};r.on("show",((e,t)=>{const n=r.getRoot();setTimeout((()=>{o(n.app).find(".pcr-result").focus().select()}),200),c.preInit(n.button,c.prepColor(e))})),r.on("change",(o=>{const e=r.getRoot();c.changeColor(e.button,c.prepColor(o)),r.applyColor(!1)}))},n=new IntersectionObserver(((e,n)=>{e.forEach((e=>{e.intersectionRatio>0&&(o(e.target).hasClass("zc-panel-control-colorpicker__input_activated")||(o(e.target).addClass("zc-panel-control-colorpicker__input_activated"),t(o(e.target))))}))}),{root:null,threshold:.25});o(window).on("zc/panel/menu/item-change-ICP",((o,e)=>{e&&e.find(".zc-panel-control-colorpicker__input").each(((o,e)=>{n.observe(e)}))}))}))})();