(()=>{"use strict";zc.module.panel.addControl(((o,t)=>{const e=t=>{const e=t.data("settings")||{},n={el:t.get(0),theme:"monolith",useAsButton:!0,default:t.val()||"#FFFFFF",components:{preview:!1,opacity:!0,hue:!0,interaction:{hex:!0,rgba:!0,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!1}}},r=Pickr.create(o.extend({},n,e)),c={prepColor:o=>{const t=r.getColorRepresentation();let e="";return"HEXA"==t?e=o.toHEXA().toString():"RGBA"==t&&(e=o.toRGBA().toString(0)),e},preInit:(t,e)=>{const n=o(t).val();n?n!==e&&r.setColor(n):c.changeColor(t,"#FFFFFF")},changeColor:(t,e)=>{o(t).parent().find(".zc-panel-control-colorpicker__live-color").css("background",e),o(t).val(e).change()}};r.on("show",(o=>{const t=r.getRoot();c.preInit(t.button,c.prepColor(o))})),r.on("change",(o=>{const t=r.getRoot();c.changeColor(t.button,c.prepColor(o)),r.applyColor(!1)}))},n=new IntersectionObserver(((t,n)=>{t.forEach((t=>{t.intersectionRatio>0&&(o(t.target).hasClass("zc-panel-control-colorpicker__input_activated")||(o(t.target).addClass("zc-panel-control-colorpicker__input_activated"),e(o(t.target))))}))}),{root:null,threshold:.25});o(window).on("zc/panel/menu/item-change-ICP",((o,t)=>{t&&t.find(".zc-panel-control-colorpicker__input").each(((o,t)=>{n.observe(t)}))}))}))})();