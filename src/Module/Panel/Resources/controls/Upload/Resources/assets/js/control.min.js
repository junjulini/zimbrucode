(()=>{"use strict";zc.module.panel.addControl(((e,n,a)=>{e(".zc-panel").on("click",".zc-panel-control-upload__button",(function(n){n.preventDefault();const t=e(this),l=_wpMediaViewsL10n,i=wp.media({title:l.chooseImage,multiple:!1,library:{type:"image"},button:{text:l.select}});i.open(),i.on("select",(function(e){const n=i.state().get("selection").first().toJSON();if("image"==n.type){const e=t.attr("id"),l=n.sizes.large||n;t.parent().find(`input[name=${e}]`).val(n.url).change(),t.parent().find(`input[name=${e}--large_image]`).val(l.url).change(),t.parent().find(`input[name=${e}--id]`).val(n.id).change(),t.parent().find(".zc-panel-control-upload__image-container").remove(),t.parent().append(`<div class="zc-panel-control-upload__image-container">                                            <i title="${a.remove}" class="zc-panel-control-upload__icon-close zc-icon-clear"></i>                                            <img src="${l.url}" alt="Image" class="zc-panel-control-upload__image" />                                        </div>`)}}))})),e(".zc-panel").on("click",".zc-panel-control-upload__icon-close",(function(n){n.preventDefault(),e(this).parent().parent().find("input").val("").change(),e(this).parent().remove()}))}))})();